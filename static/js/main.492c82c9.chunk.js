(this.webpackJsonpqfrontend=this.webpackJsonpqfrontend||[]).push([[0],{71:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(20),r=n.n(c),s=n(35),i=n(36),o=n(42),u=n(41),l=n(13),d=n(4),j=n(21),b=n(6),O=n.n(b),m=function(e){e?O.a.defaults.headers.common.Authorization=e:delete O.a.defaults.headers.common.Authorization},p="SET_CURRENT_USER",f="SET_CURRENT_TITLE",h="ADDELEMENT",g="CHANGEQUESTION",x="SET_ELEMENTS",v="https://peaceful-headland-86197.herokuapp.com/",y=function(e,t){return function(n){O.a.post(v+"api/login",e).then((function(e){var t=e.data.token;localStorage.setItem("jwtToken",t),m(t);var a=Object(j.a)(t);n(N(a))})).catch((function(e){t(e.response.data),console.log(e.response.data)}))}},N=function(e){return{type:p,payload:e}},E=function(e){return{type:f,payload:e}},z=function(e){return{type:h,payload:e}},S=function(e,t){return{type:g,payload:{key:e,question:t}}},q=function(){return function(e){localStorage.removeItem("jwtToken"),m(!1),e(N({}))}},C=n(7),k=n(16),T=n(38),w=n(17),I=n(3),Q=n(70),R={isAuthenticated:!1,user:{},loading:!1},U=Object(k.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(I.a)(Object(I.a)({},e),{},{isAuthenticated:!Q(t.payload),user:t.payload});case f:return Object(I.a)(Object(I.a)({},e),{},{user:Object(I.a)(Object(I.a)({},e.user),{},{currentQuizTitle:t.payload})});case h:return Object(I.a)(Object(I.a)({},e),{},{user:Object(I.a)(Object(I.a)({},e.user),{},{currentElements:[].concat(Object(w.a)(e.user.currentElements),[t.payload])})});case g:return e.user.currentElements[t.payload.key].question=t.payload.question,Object(I.a)({},e);case x:return e.user.currentElements=t.payload,Object(I.a)({},e);default:return e}}}),A=n(39),_=[T.a],L=Object(k.createStore)(U,{},Object(A.composeWithDevTools)(k.applyMiddleware.apply(void 0,_))),M=n(2),D=(n(71),n(1));var F=function(e){return Object(D.jsx)("nav",{className:"navbar sticky-top navbar-expand-lg navbar-dark color px-4",children:Object(D.jsxs)("div",{className:"container-fluid",children:[Object(D.jsx)("a",{className:"navbar-brand textcolor si",href:"/MyQuizTaker/#/",children:"QuizTaker"}),Object(D.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(D.jsx)("span",{className:"navbar-toggler-icon"})}),Object(D.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarText",children:[Object(D.jsx)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0 align-items-center",children:Object(D.jsx)("li",{className:"nav-item",children:Object(D.jsx)(l.b,{className:"nav-link textcolor ho",to:"/create",children:"Create Quiz"})})}),Object(D.jsx)("span",{className:"navbar-text",children:Object(D.jsx)("button",{className:"nbutton rounded",onClick:e.onLogoutClick,children:"Logout"})})]})]})})};n(77);var H=Object(C.b)((function(e){return{auth:e.auth}}),{logoutUser:q})((function(e){var t=e.auth.user,n=Object(a.useState)([]),c=Object(M.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(!1),o=Object(M.a)(i,2),u=o[0],d=o[1];return Object(a.useEffect)((function(){d(!0),O.a.post(v+"api/getQuizes",{userId:t.userId}).then((function(e){s(e.data.quizes)})).catch((function(e){alert(e)})),d(!1)}),[]),console.log(t),Object(D.jsxs)(D.Fragment,{children:[u&&Object(D.jsx)("div",{className:"loading"}),Object(D.jsx)(F,{onLogoutClick:function(t){t.preventDefault(),e.logoutUser()}}),Object(D.jsxs)("div",{children:[Object(D.jsxs)("p",{className:"user",children:["Hi ",Object(D.jsx)("strong",{children:t.name}),". ",0!==r.length?"Here are your Quizes":"You have no Quizes Right Now."]}),Object(D.jsx)("div",{className:"container-fluid con",children:Object(D.jsx)("ul",{className:"cards",children:r.map((function(e,n){return Object(D.jsx)("li",{className:"cards_item",children:Object(D.jsx)("div",{className:"card",children:Object(D.jsxs)("div",{className:"card_content",children:[Object(D.jsx)("i",{className:"fa fa-trash",style:{color:"white",cursor:"pointer"},onClick:function(){return e=n,d(!0),O.a.post(v+"api/deleteQuiz",{userId:t.userId,quizId:e}).then((function(e){console.log(e),window.location.href="/MyQuizTaker/#/"})).catch((function(e){alert(e)})),void d(!1);var e}}),Object(D.jsxs)("h2",{className:"card_title",children:["Quiz ID: ",n]}),Object(D.jsx)("p",{className:"card_text",children:e.title}),Object(D.jsx)(l.b,{className:"btn card_btn",to:"/editQuiz/".concat(n),children:"Edit Quiz"})]})})},n)}))})})]})]})}));n(78),n(79);var B=Object(C.b)((function(e){return{auth:e.auth}}),{logoutUser:q,changeElementQuestion:S})((function(e){var t=e.auth.user,n=Object(a.useState)(t.currentElements[e.ukey].question),c=Object(M.a)(n,2),r=c[0],s=c[1],i=Object(C.c)();return Object(D.jsx)("div",{className:"formContainer",children:Object(D.jsxs)("form",{className:"formbox rounded d-flex flex-column justify-content-around",children:[Object(D.jsx)("input",{name:e.name,className:"input-lg linp",value:r,disabled:e.isEditing,onChange:function(t){i(S(e.ukey,t.target.value)),s(t.target.value)}}),Object(D.jsx)("input",{className:"input-lg inp",disabled:e.isCreating})]})})}));var P=Object(C.b)((function(e){return{auth:e.auth}}),{logoutUser:q,addElement:z,setTitle:E})((function(e){var t=e.auth.user,n=(Object(d.g)(),Object(C.c)()),c=Object(a.useState)(!1),r=Object(M.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)(-1),u=Object(M.a)(o,2),l=u[0],j=u[1],b=Object(a.useState)(t.currentQuizTitle),m=Object(M.a)(b,2),p=m[0],f=m[1],h=Object(a.useState)(t.currentElements),g=Object(M.a)(h,2),x=g[0],y=g[1],N=Object(a.useState)([]),E=Object(M.a)(N,2),S=E[0],q=E[1];return Object(a.useEffect)((function(){i(!0),O.a.post(v+"api/getQuizes",{userId:t.userId}).then((function(e){j(e.data.quizes.length)})).catch((function(e){alert(e)})),i(!1)}),[]),Object(a.useEffect)((function(){!function(){var e=[];x.map((function(t,n){"input"===t.type&&e.push(Object(D.jsx)(B,{name:"question",ukey:n,isEditing:!1,isCreating:!0},n))})),q(e)}()}),[x]),console.log(t),Object(D.jsxs)(D.Fragment,{children:[s&&Object(D.jsx)("div",{className:"loading"}),Object(D.jsx)(F,{onLogoutClick:function(t){t.preventDefault(),e.logoutUser()}}),Object(D.jsxs)("div",{className:"container",children:[-1!==l&&Object(D.jsxs)("p",{className:"mt-3 display-6",children:["Quiz No. ",l]}),Object(D.jsx)("input",{className:"input-lg linp mt-3",value:p,onChange:function(t){n(e.setTitle(t.target.value)),f(t.target.value)}}),S.map((function(e){return e})),Object(D.jsx)("button",{className:"m-3 rounded b",onClick:function(){n(z({type:"input",question:"Question"})),y((function(e){return[].concat(Object(w.a)(e),[{type:"input",question:"Question"}])}))},children:"Add"}),Object(D.jsx)("button",{className:"m-3 rounded b",onClick:function(){i(!0),O.a.post(v+"api/addQuiz",{userId:t.userId,title:t.currentQuizTitle,quizElements:t.currentElements}).then((function(e){window.location.href="/MyQuizTaker/#/"})).catch((function(e){alert(e)})),i(!1)},children:"Submit"})]})]})}));n(80);var Y=Object(C.b)((function(e){return{auth:e.auth}}),{logoutUser:q,addElement:z,setTitle:E,setElements:function(e){return{type:x,payload:e}}})((function(e){var t=Object(d.h)().index,n=e.auth.user;console.log(n),Object(d.g)();var c=Object(C.c)(),r=Object(a.useState)(!1),s=Object(M.a)(r,2),i=s[0],o=s[1],u=Object(a.useState)(t),l=Object(M.a)(u,2),j=l[0],b=(l[1],Object(a.useState)({title:"title",quizElements:[]})),m=Object(M.a)(b,2),p=m[0],f=m[1],h=Object(a.useState)(""),g=Object(M.a)(h,2),x=g[0],y=g[1],N=Object(a.useState)([]),E=Object(M.a)(N,2),S=E[0],q=E[1],k=Object(a.useState)([]),T=Object(M.a)(k,2),Q=T[0],R=T[1],U=Object(a.useState)([]),A=Object(M.a)(U,2),_=A[0],L=A[1],H=Object(a.useState)([]),P=Object(M.a)(H,2),Y=P[0],G=P[1],J=function(t){var n=_[t.target.name].response;y(p.title),function(t){var n=[];p.quizElements.map((function(a,c){n.push(Object(D.jsx)("div",{className:"formContainer",children:Object(D.jsxs)("form",{className:"formbox rounded d-flex flex-column justify-content-around",children:[Object(D.jsx)("input",{name:e.name,className:"input-lg linp",value:a.question,disabled:!0}),Object(D.jsx)("input",{className:"input-lg inp",value:t["input".concat(c)],disabled:!0})]})}))})),q(n)}(n)};return Object(a.useEffect)((function(){o(!0),O.a.post(v+"api/getQuizes",{userId:n.userId}).then((function(n){c(e.setTitle(n.data.quizes[t].title)),c(e.setElements(n.data.quizes[t].quizElements)),f((function(e){return Object(I.a)(Object(I.a)({},e),{},{title:n.data.quizes[t].title,quizElements:n.data.quizes[t].quizElements})}))})).catch((function(e){alert(e)})),O.a.post(v+"api/getResponses",{userId:n.userId,quizId:j}).then((function(e){L(e.data.responses)})).catch((function(e){alert(e)})),o(!1)}),[]),Object(a.useEffect)((function(){!function(){var e=[];p.quizElements.map((function(t,n){"input"===t.type&&e.push(Object(D.jsx)(B,{name:"question",ukey:n,isEditing:!1,isCreating:!0},n))})),G(e)}()}),[p]),Object(a.useEffect)((function(){!function(){var e=[];_.map((function(t,n){e.push(Object(D.jsx)("button",{className:"rounded m-3 b",onClick:J,name:n,children:"Response ".concat(n)}))})),R(e)}()}),[_]),console.log(n),Object(D.jsxs)(D.Fragment,{children:[i&&Object(D.jsx)("div",{className:"loading"}),Object(D.jsx)(F,{onLogoutClick:function(t){t.preventDefault(),e.logoutUser()}}),Object(D.jsxs)("div",{className:"container",children:[-1!==j&&Object(D.jsx)("p",{className:"mt-3 display-5",children:j}),Object(D.jsx)("a",{href:"".concat(new URL(window.location.href).origin,"/#/quiz/").concat(n.userId,"&").concat(j),target:"_blank",children:"".concat(new URL(window.location.href).origin,"/#/quiz/").concat(n.userId,"&").concat(j)}),Object(D.jsx)("input",{className:"input-lg linp mt-3",value:p.title,onChange:function(t){c(e.setTitle(t.target.value)),f((function(e){return Object(I.a)(Object(I.a)({},e),{},{title:t.target.value})}))}}),Y.map((function(e){return e})),Object(D.jsx)("button",{className:"m-3 rounded b",onClick:function(){c(z({type:"input",question:"Question"})),f((function(e){return Object(I.a)(Object(I.a)({},e),{},{quizElements:[].concat(Object(w.a)(e.quizElements),[{type:"input",question:"Question"}])})}))},children:"Add"}),Object(D.jsx)("button",{className:"m-3 rounded b",onClick:function(){o(!0),O.a.post(v+"api/editQuiz",{userId:n.userId,quizId:j,title:n.currentQuizTitle,quizElements:n.currentElements}).then((function(e){window.location.href="/MyQuizTaker/#/"})).catch((function(e){alert(e)})),o(!1)},children:"Submit"})]}),Object(D.jsxs)("div",{className:"container",children:[Object(D.jsx)("div",{className:"responsesButtonCont",children:Q}),Object(D.jsx)("h1",{children:x}),S.map((function(e){return e}))]})]})})),G=n(40),J=["component","auth"],$=Object(C.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,n=e.auth,a=Object(G.a)(e,J);return Object(D.jsx)(d.b,Object(I.a)(Object(I.a)({},a),{},{render:function(e){return!0===n.isAuthenticated?Object(D.jsx)(t,Object(I.a)({},e)):Object(D.jsx)(d.a,{to:"/"})}}))})),K=n(14),W=(n(81),/^[^ ]+@[^ ]+\.[a-z]{2,3}$/);var Z=Object(C.b)((function(e){return{auth:e.auth}}),{loginUser:y})((function(e){var t=Object(a.useState)({lemail:"",lpass:""}),n=Object(M.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(!1),i=Object(M.a)(s,2),o=i[0],u=i[1],d=Object(a.useState)(!1),j=Object(M.a)(d,2),b=j[0],O=j[1],m=Object(a.useState)(!1),p=Object(M.a)(m,2),f=p[0],h=p[1],g=Object(a.useState)(!1),x=Object(M.a)(g,2),v=x[0],N=x[1],E=Object(a.useState)([]),z=Object(M.a)(E,2),S=z[0],q=z[1],k=Object(C.c)();Object(a.useEffect)((function(){e.auth.isAuthenticated&&e.history.push("/dashboard")}),[]),Object(a.useEffect)((function(){e.auth.isAuthenticated&&e.history.push("/dashboard")}),[e.auth]);var T=function(e){!function(e){"lemail"===e.target.id?0===e.target.value.length?(e.target.style.border="none",O(!1)):e.target.value.match(W)?(e.target.style.border="solid",e.target.style.borderColor="lightgreen",O(!0)):(e.target.style.border="solid",e.target.style.borderColor="red",O(!1)):"lpass"===e.target.id&&(0===e.target.value.length?(e.target.style.border="none",h(!1)):(e.target.style.border="solid",e.target.style.borderColor="lightgreen",h(!0)))}(e),r((function(t){return Object(I.a)(Object(I.a)({},t),{},Object(K.a)({},e.target.id,e.target.value))}))},w=function(e){q(e.errors),N(!0)};return Object(D.jsxs)("div",{className:"container-fluid louter-container align-items-center flex-column d-flex justify-content-center",children:[o&&Object(D.jsx)("div",{className:"loading"}),Object(D.jsx)("h1",{className:"display-1 lname position-static",children:"Quiz Taker"}),Object(D.jsxs)("div",{id:"lform",className:"position-static d-flex flex-column align-items-center",children:[Object(D.jsx)("h2",{id:"lheading",className:"my-2 justify-content-center",children:"Login"}),Object(D.jsx)("input",{id:"lemail",type:"email",onChange:T,placeholder:"Enter Email Id*",required:!0,className:"my-2 form-control form-control-lg"}),Object(D.jsx)("input",{id:"lpass",type:"password",onChange:T,placeholder:"Enter Password*",required:!0,className:"my-2 form-control form-control-lg"}),v&&S.map((function(e){var t=Object(M.a)(Object.entries(e)[0],2),n=t[0],a=t[1];return Object(D.jsxs)("p",{style:{color:"brown"},children:[n," ",a]},n)})),Object(D.jsx)("p",{className:"grey-text text-darken-1",children:Object(D.jsx)(l.b,{to:"/register",children:"Don't have an account? "})}),Object(D.jsx)("input",{id:"lbutton",type:"button",value:"SUBMIT",disabled:!b||!f,onClick:function(){u(!0),k(y({emailid:c.lemail,password:c.lpass},w)),u(!1)},className:"my-2 form-control form-control-lg"})]})]})})),V=(n(82),/^[^ ]+@[^ ]+\.[a-z]{2,3}$/);var X=function(){var e=Object(d.g)(),t=Object(a.useState)({rname:"",remail:"",rpass:"",rcpass:""}),n=Object(M.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(!1),i=Object(M.a)(s,2),o=i[0],u=i[1],j=Object(a.useState)(!1),b=Object(M.a)(j,2),m=b[0],p=b[1],f=Object(a.useState)(!1),h=Object(M.a)(f,2),g=h[0],x=h[1],y=Object(a.useState)(!1),N=Object(M.a)(y,2),E=N[0],z=N[1],S=Object(a.useState)(!1),q=Object(M.a)(S,2),C=q[0],k=q[1],T=function(e){!function(e){"rname"===e.target.id?0===e.target.value.length?(e.target.style.border="none",p(!1)):(e.target.style.border="solid",e.target.style.borderColor="lightgreen",p(!0)):"remail"===e.target.id?0===e.target.value.length?(e.target.style.border="none",x(!1)):e.target.value.match(V)?(e.target.style.border="solid",e.target.style.borderColor="lightgreen",x(!0)):(e.target.style.border="solid",e.target.style.borderColor="red",x(!1)):"rpass"===e.target.id?0===e.target.value.length?(e.target.style.border="none",z(!1)):(e.target.style.border="solid",e.target.style.borderColor="lightgreen",z(!0)):"rcpass"===e.target.id&&(0===e.target.value.length?(e.target.style.border="none",k(!1)):e.target.value!==c.rpass?(e.target.style.border="solid",e.target.style.borderColor="red",k(!1)):(e.target.style.border="solid",e.target.style.borderColor="lightgreen",k(!0)))}(e),r((function(t){return Object(I.a)(Object(I.a)({},t),{},Object(K.a)({},e.target.id,e.target.value))}))};return Object(D.jsxs)("div",{className:"container-fluid router-container align-items-center d-flex justify-content-center",children:[o&&Object(D.jsx)("div",{className:"loading"}),Object(D.jsxs)("div",{id:"rform",className:"d-flex justify-content-center flex-column align-items-center",children:[Object(D.jsx)("h2",{id:"rheading",className:"my-2  position-static justify-content-center",children:"REGISTERATION FOR QUIZ TAKER"}),Object(D.jsx)("input",{id:"rname",type:"text",onChange:T,placeholder:"Enter Full Name*",required:!0,className:"my-2 form-control form-control-lg"}),Object(D.jsx)("input",{id:"remail",type:"email",onChange:T,placeholder:"Enter Email Id*",required:!0,className:"my-2 form-control form-control-lg"}),Object(D.jsx)("input",{id:"rpass",type:"password",onChange:T,placeholder:"Enter Password*",required:!0,className:"my-2 form-control form-control-lg"}),Object(D.jsx)("input",{id:"rcpass",type:"password",placeholder:"Enter Password Again*",onChange:T,required:!0,className:"my-2 form-control form-control-lg"}),Object(D.jsx)("p",{className:"grey-text text-darken-1",children:Object(D.jsx)(l.b,{to:"/",children:"Have an account? "})}),Object(D.jsx)("input",{id:"rbutton",type:"button",disabled:!C||!m||!g||!E,onClick:function(){u(!0),O.a.post(v+"api/register",{name:c.rname,emailid:c.remail,password:c.rpass,password_confirmation:c.rcpass}).then((function(t){alert("Hi ".concat(t.data.result.name,". You have successfully registered.")),e.push("/MyQuizTaker/#/")})).catch((function(e){alert(e)}))},value:"SUBMIT",className:"my-2 form-control form-control-lg"})]})]})};var ee=function(){var e,t,n=Object(d.h)().id,c=Object(a.useState)(!1),r=Object(M.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)(!1),u=Object(M.a)(o,2),l=u[0],j=u[1],b=Object(a.useState)({}),m=Object(M.a)(b,2),p=m[0],f=m[1],h=Object(a.useState)({}),g=Object(M.a)(h,2),x=g[0],y=g[1],N=Object(a.useState)([]),E=Object(M.a)(N,2),z=E[0],S=E[1];if(n.includes("&")){var q=n.split("&"),C=Object(M.a)(q,2),k=C[0],T=C[1];e=k,t=T}var w=function(e){y((function(t){return Object(I.a)(Object(I.a)({},t),{},Object(K.a)({},e.target.name,e.target.value))}))};return Object(a.useEffect)((function(){n.includes("&")&&(i(!0),O.a.post(v+"api/getQuizes",{userId:e}).then((function(e){if(e.data.quizes.length>t){j(!0);var n=e.data.quizes[t];n.quizElements.map((function(e,t){y((function(e){return Object(I.a)(Object(I.a)({},e),{},Object(K.a)({},"input".concat(t),""))}))})),f(n),function(e){var t=[];console.log(e),e.quizElements.map((function(e,n){"input"===e.type&&t.push(Object(D.jsx)("div",{className:"formContainer",children:Object(D.jsxs)("form",{className:"formbox rounded d-flex flex-column justify-content-around",children:[Object(D.jsx)("input",{className:"input-lg linp",disabled:!0,value:e.question}),Object(D.jsx)("input",{className:"input-lg inp",name:"input".concat(n),value:x["input".concat(n)],onChange:w})]})},n))})),S(t)}(n)}})).catch((function(e){alert(e)})),i(!1))}),[]),Object(D.jsxs)("div",{children:[s&&Object(D.jsx)("div",{className:"loading"}),l?Object(D.jsxs)("div",{children:[Object(D.jsx)("h1",{style:{padding:"1rem"},children:p.title}),z.map((function(e){return e})),Object(D.jsx)("button",{style:{margin:"1rem"},onClick:function(){i(!0),O.a.post(v+"api/submitResponse",{userId:e,quizId:t,response:x}).then((function(e){alert("Your Response Submitted!"),window.location.reload()})).catch((function(e){alert(e)})),i(!1)},children:"Submit"})]}):Object(D.jsx)("h1",{children:"No Quiz Found"})]})};if(localStorage.jwtToken){var te=localStorage.jwtToken;m(te);var ne=Object(j.a)(te);L.dispatch(N(ne));var ae=Date.now()/1e3;ne.exp<ae&&(L.dispatch(q()),window.location.href="/")}var ce=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(D.jsx)(C.a,{store:L,children:Object(D.jsx)("div",{className:"App",children:Object(D.jsxs)(l.a,{basename:"/",children:[Object(D.jsx)(d.b,{exact:!0,path:"/",component:Z}),Object(D.jsx)(d.b,{exact:!0,path:"/register",component:X}),Object(D.jsx)(d.b,{exact:!0,path:"/quiz/:id",component:ee}),Object(D.jsxs)(d.d,{children:[Object(D.jsx)($,{exact:!0,path:"/dashboard",component:H}),Object(D.jsx)($,{exact:!0,path:"/create",component:P}),Object(D.jsx)($,{exact:!0,path:"/editQuiz/:index",component:Y})]})]})})})}}]),n}(a.Component);r.a.render(Object(D.jsx)(ce,{}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.492c82c9.chunk.js.map